(this["webpackJsonpplaylist-maker-app"]=this["webpackJsonpplaylist-maker-app"]||[]).push([[0],{11:function(t,e,n){n(31).config(),t.exports={ENDPOINT:"http://localhost:8000/api"}},24:function(t,e,n){t.exports=n(45)},29:function(t,e,n){},30:function(t,e,n){},34:function(t,e,n){},40:function(t,e,n){},41:function(t,e,n){},42:function(t,e,n){},43:function(t,e,n){},44:function(t,e,n){},45:function(t,e,n){"use strict";n.r(e);var i=n(0),a=n.n(i),l=n(20),r=n.n(l),o=(n(29),n(4)),c=n(5),s=n(7),p=n(6),u=n(1),m=n(10),h=(n(30),n(11)),d=n.n(h),f=a.a.createContext({genres:[],playlists:[],pageUpdate:function(){}}),g=(n(34),function(t){Object(s.a)(n,t);var e=Object(p.a)(n);function n(){return Object(o.a)(this,n),e.apply(this,arguments)}return Object(c.a)(n,[{key:"render",value:function(){return a.a.createElement("div",{id:"user-prompt"},a.a.createElement("h2",null,"Welcome to playlist maker"),a.a.createElement("p",null,"Looking to discover new music? Tired of your old study playlist? This app is for you just choose the genres and input the amount of time you would like the playlist to run and wait for your new playlist to be created."),a.a.createElement(u.b,{to:"/homepage"},"Create a Playlist!"),a.a.createElement(u.b,{to:"/existing-playlists"},"See existing playlists"))}}]),n}(i.Component)),y=(n(40),function(t){Object(s.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).toggleClick=function(t){i.props.clickE(t,i.state.name)},i.state={id:t.id,name:t.name},i}return Object(c.a)(n,[{key:"render",value:function(){return this.props.selected===this.state.name?a.a.createElement("label",{key:this.state.id,name:this.state.name,className:"genre-option gen-selected",htmlFor:this.state.id,checked:this.state.selectedGen===this.state.name},this.state.name,a.a.createElement("input",{type:"radio",value:this.state.name,name:"gen-option",id:this.state.id})):a.a.createElement("label",{key:this.state.id,name:this.state.name,className:"genre-option",htmlFor:this.state.id,checked:this.state.selectedGen===this.state.name},this.state.name,a.a.createElement("input",{type:"radio",value:this.state.name,name:"gen-option",id:this.state.id}))}}]),n}(i.Component));function v(t){return t.message?(console.log(t.message),a.a.createElement("div",{className:"error"},t.message)):a.a.createElement(a.a.Fragment,null)}var E=function(t){Object(s.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t))._isMounted=!1,i.fieldChange=function(t){i.setState({selectedId:t.target.id,selectedGen:t.target.value})},i.titleChange=function(t){i.setState({title:t.target.value,titleTouch:!0})},i.minChange=function(t){i.setState({min:parseInt(t.target.value),minTouch:!0})},i.hourChange=function(t){i.setState({hour:parseInt(t.target.value),hourTouch:!0})},i.minArr=function(){for(var t=new Array(60),e=0;e<=59;e++)t[e]=e;return t},i.hourArr=function(){for(var t=new Array(4),e=0;e<=2;e++)t[e]=e;return t},i.validateTime=function(){var t=i.state.hour,e=i.state.min;if(null===t||null===e||isNaN(t)||isNaN(e)||0===t&&0===e)return"Select a valid time"},i.validateGenre=function(){if(null===i.state.selectedId)return"You must select a genre."},i.validateTitle=function(){var t=i.state.title.trim();return 0===t.length?"Title is required.":t.length<3?"Title must be atleast 3 characters long.":void 0},i.subHandle=function(t,e){t.preventDefault();var n=36e5*i.state.hour+6e4*i.state.min,a={title:i.state.title.trim(),length:n,genre_id:i.state.selectedId,author:1};fetch("".concat(d.a.ENDPOINT,"/playlists"),{method:"POST",headers:{"content-type":"application/json"},body:JSON.stringify(a)}).then((function(t){return t.ok?t.json():t.json().then((function(t){return Promise.reject(t)}))})).then((function(t){e.pageUpdate(),i.props.history.push("/playlist-display/".concat(t.id),{genres:e.genres,time:n})})).catch((function(t){console.error({error:t})}))},i.state={title:"",titleTouch:!1,selectedId:null,selectedGen:null,genTouch:!1,hour:null,hourTouch:!1,min:null,minTouch:!1},i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){this._isMounted=!0}},{key:"componentWillUnmount",value:function(){this._isMounted=!1}},{key:"render",value:function(){var t=this;return a.a.createElement(f.Consumer,null,(function(e){var n=e.genres.map((function(e){return a.a.createElement(y,{id:e.id,name:e.name,selected:t.state.selectedGen,key:e.id})})),i=t.minArr().map((function(t){return t<10?a.a.createElement("option",{value:t,key:t},"0",t):a.a.createElement("option",{value:t,key:t},t)})),l=t.hourArr().map((function(t){return a.a.createElement("option",{value:t,key:t},t)})),r=t.validateTime(),o=t.validateGenre(),c=t.validateTitle();return n&&a.a.createElement("div",{id:"play-stage"},a.a.createElement("form",null,a.a.createElement("div",{id:"input-wrap"},a.a.createElement("div",{className:"inputs"},a.a.createElement("label",{htmlFor:"title-input"},"Playlist Name: "),a.a.createElement("input",{type:"text",id:"title-input",onChange:t.titleChange,className:"user-inputs"}),t.state.titleTouch&&a.a.createElement(v,{message:c})),a.a.createElement("div",{className:"inputs"},a.a.createElement("label",{htmlFor:"hour-length"},"Playlist length: "),a.a.createElement("select",{onChange:t.hourChange,className:"user-inputs"},a.a.createElement("option",{value:null},"--Hour(s)--"),l),":",a.a.createElement("select",{onChange:t.minChange,className:"user-inputs"},a.a.createElement("option",{value:null},"--Minute(s)--"),i),t.state.hourTouch&&t.state.minTouch&&a.a.createElement(v,{message:r}))),a.a.createElement("fieldset",{onChange:t.fieldChange},a.a.createElement("legend",null,"Choose your genre!"),t.state.genTouch&&a.a.createElement(v,{message:o}),a.a.createElement("div",{id:"genres"},n)),a.a.createElement("button",{type:"submit",id:"create",onClick:function(n){return t.subHandle(n,e)},disabled:r||o||c},"Create your playlist!")),a.a.createElement(u.b,{to:"/playlist-display/3"},"Here"))}))}}]),n}(i.Component),k=n(23);n(41);function x(t){var e=function(t){var e=Math.floor(t/6e4),n=(t%6e4/1e3).toFixed(0);return e+":"+(n<10?"0":"")+n}(t.track.length);return a.a.createElement("a",{target:"_blank",href:t.track.url},a.a.createElement("div",{className:"song-item"},a.a.createElement("h3",null,t.track.title),a.a.createElement("span",{id:"time"},e),a.a.createElement("hr",null)))}n(42);function b(t){return a.a.createElement(f.Consumer,null,(function(t){var e=function(t){return t.playlists.slice(t.playlists.length-11,t.playlists.length-1).reverse().map((function(e){var n=t.genres.find((function(t){return t.id===e.genre_id}));return n&&a.a.createElement(u.b,{exact:"true",key:e.id,to:"/playlist-display/".concat(e.id)},a.a.createElement("article",{className:"navLink"},a.a.createElement("h3",{id:e.id},e.title),a.a.createElement("span",null,"Genre:",n.name)))}))}(t);return e&&a.a.createElement("div",{id:"navBar"},a.a.createElement("h2",{id:"recent"},"Most Recent"),e,a.a.createElement(u.b,{to:"/homepage"},a.a.createElement("h3",{className:"addFolder"},"Add folder")))}))}function C(t){console.log(t);var e=t.songs.map((function(t){return a.a.createElement(x,{track:t,key:t.id})}));return a.a.createElement("div",{id:"playlistDisplay"},a.a.createElement("div",{id:"nav"},a.a.createElement(b,null)),a.a.createElement("div",{id:"playlistContent"},a.a.createElement("h2",{id:"playlist-title"},t.playlist.name),e))}n(43);var T=[{id:1,name:"Acoustic Test One",genre_id:1,length:"1860000"},{id:2,name:"Acoustic Test Two",genre_id:1,length:"1560230"}],O=[{id:"29ENMAdmNy0byJdF21AhGa",url:"https://open.spotify.com/track/29ENMAdmNy0byJdF21AhGa",title:"Watermelon",length:198226,explicit:!0},{id:"6FEDEeBd8E5T1TmBfMlys0",url:"https://open.spotify.com/track/6FEDEeBd8E5T1TmBfMlys0",title:"SEND THE RAIN (TO EVERYONE)",length:322101,explicit:!1},{id:"279Iabhr2afcc93hAc1YZ8",url:"https://open.spotify.com/track/279Iabhr2afcc93hAc1YZ8",title:"Black Dog",length:82026,explicit:!1},{id:"65D1Gw34nZZpjfcZPmOBwY",url:"https://open.spotify.com/track/65D1Gw34nZZpjfcZPmOBwY",title:"Oh My Stars",length:302120,explicit:!1},{id:"1MQwg2JTIHjdsOHUR6bdso",url:"https://open.spotify.com/track/1MQwg2JTIHjdsOHUR6bdso",title:"I Need To Know",length:214280,explicit:!1},{id:"14bJJQStOzZpcCxlAr4NOz",url:"https://open.spotify.com/track/14bJJQStOzZpcCxlAr4NOz",title:"Safe & Sound",length:178329,explicit:!1},{id:"4c1Lc5RsgYURf7hZlt4sR0",url:"https://open.spotify.com/track/4c1Lc5RsgYURf7hZlt4sR0",title:"That Kind Of Beautiful",length:185190,explicit:!1},{id:"2poCGYnBEGRXQ4q9F889CS",url:"https://open.spotify.com/track/2poCGYnBEGRXQ4q9F889CS",title:"Darlin'",length:233520,explicit:!1},{id:"56twDecxsQon61crfEXrA5",url:"https://open.spotify.com/track/56twDecxsQon61crfEXrA5",title:"Hollywood's Bleeding",length:217777,explicit:!1},{id:"75Vc1ge16jlwRmEGCqCc6l",url:"https://open.spotify.com/track/75Vc1ge16jlwRmEGCqCc6l",title:"Oh, Carolina",length:205666,explicit:!1},{id:"0tozhA4AZE7kDEvlcxCzP1",url:"https://open.spotify.com/track/0tozhA4AZE7kDEvlcxCzP1",title:"Undertow",length:282453,explicit:!1},{id:"7KyzYTcqtptWqlmEZAVPZV",url:"https://open.spotify.com/track/7KyzYTcqtptWqlmEZAVPZV",title:"From Here to Utopia",length:354e3,explicit:!0},{id:"7Jt2m2zXpCkAdmUIfsIaWZ",url:"https://open.spotify.com/track/7Jt2m2zXpCkAdmUIfsIaWZ",title:"Whiskey in the Jar",length:267653,explicit:!1},{id:"3q7vmOvgX1DZIILnGRmAHM",url:"https://open.spotify.com/track/3q7vmOvgX1DZIILnGRmAHM",title:"Only the Wine",length:172240,explicit:!1},{id:"4fHJwyR7JILiSAbLyXcrKx",url:"https://open.spotify.com/track/4fHJwyR7JILiSAbLyXcrKx",title:"Don't Wanna Know - Acoustic Version",length:183472,explicit:!1},{id:"4UU97IGHOhBhZjCUgDFUiz",url:"https://open.spotify.com/track/4UU97IGHOhBhZjCUgDFUiz",title:"Sink Or Swim",length:178093,explicit:!1},{id:"30JxjencOWOx1F5m1FDvz6",url:"https://open.spotify.com/track/30JxjencOWOx1F5m1FDvz6",title:"Don't Keep Heaven Busy",length:214153,explicit:!1},{id:"1RIrP4WjP5k2yYDxWzCJdz",url:"https://open.spotify.com/track/1RIrP4WjP5k2yYDxWzCJdz",title:"Swelling Sea",length:246164,explicit:!1},{id:"3xQMRlwBgqvYWJX8TsOOgq",url:"https://open.spotify.com/track/3xQMRlwBgqvYWJX8TsOOgq",title:"Who Saved Who",length:245840,explicit:!1},{id:"5aAwAb26epRhjJvgoE1qCv",url:"https://open.spotify.com/track/5aAwAb26epRhjJvgoE1qCv",title:"Terrifyer",length:148547,explicit:!1},{id:"2vOFdBs2kss9U0ezRGTG2E",url:"https://open.spotify.com/track/2vOFdBs2kss9U0ezRGTG2E",title:"Remnants of What People Used to Be",length:175046,explicit:!0},{id:"12Dk1SYhyl5dmqb2BllDnD",url:"https://open.spotify.com/track/12Dk1SYhyl5dmqb2BllDnD",title:"Someone Like You // Acoustic",length:221053,explicit:!1},{id:"2DODPLqY24UuvUokVh2JwF",url:"https://open.spotify.com/track/2DODPLqY24UuvUokVh2JwF",title:"That's All I Need",length:198466,explicit:!1},{id:"4KgWwGrhtccvKkVq5LuY8a",url:"https://open.spotify.com/track/4KgWwGrhtccvKkVq5LuY8a",title:"Come Back Down",length:228346,explicit:!1},{id:"6Of87Sf8b20V1uj7VjeIvl",url:"https://open.spotify.com/track/6Of87Sf8b20V1uj7VjeIvl",title:"Let the Night",length:238093,explicit:!1},{id:"11qJo8BHxYDUg6NSVZp95i",url:"https://open.spotify.com/track/11qJo8BHxYDUg6NSVZp95i",title:"Girls Just Wanna Have Fun",length:172992,explicit:!1},{id:"2P8TddBcto4SMPB0G9dSAB",url:"https://open.spotify.com/track/2P8TddBcto4SMPB0G9dSAB",title:"Stealing",length:257160,explicit:!1},{id:"08oOVFb31KlJ8avWFTtHE0",url:"https://open.spotify.com/track/08oOVFb31KlJ8avWFTtHE0",title:"My Heart With You",length:264240,explicit:!1},{id:"0dJDvqSaf1kQEbUXbgsagt",url:"https://open.spotify.com/track/0dJDvqSaf1kQEbUXbgsagt",title:"Asking for a Friend",length:235866,explicit:!1},{id:"3CC3toUI04aaz6qH1OpjcI",url:"https://open.spotify.com/track/3CC3toUI04aaz6qH1OpjcI",title:"I Remember Her",length:209539,explicit:!1},{id:"4kp526fUmPUCdru1PAeNUV",url:"https://open.spotify.com/track/4kp526fUmPUCdru1PAeNUV",title:"\u9b3c\u30f6\u5cf6",length:154760,explicit:!1},{id:"53T8DzkT63oDhUXSQJVul7",url:"https://open.spotify.com/track/53T8DzkT63oDhUXSQJVul7",title:"American Tune",length:147120,explicit:!1},{id:"2WaxBL2VVPUHqtfQE1yLbF",url:"https://open.spotify.com/track/2WaxBL2VVPUHqtfQE1yLbF",title:"Midnight Special - Remastered 2002",length:185520,explicit:!1},{id:"1bpCYUzfZTLdAknuel5Cnt",url:"https://open.spotify.com/track/1bpCYUzfZTLdAknuel5Cnt",title:"I Dream of You",length:258056,explicit:!1},{id:"1NxQeMVFB5VZ1vQEk4lNvd",url:"https://open.spotify.com/track/1NxQeMVFB5VZ1vQEk4lNvd",title:"Little Lies",length:167706,explicit:!1},{id:"0pvZsVZ95F6C6oSGTBCfLH",url:"https://open.spotify.com/track/0pvZsVZ95F6C6oSGTBCfLH",title:"El Camino",length:242146,explicit:!1},{id:"5KvvHQR3xGNZN7aq0CMjf6",url:"https://open.spotify.com/track/5KvvHQR3xGNZN7aq0CMjf6",title:"Come Home",length:291833,explicit:!1},{id:"0Pi3Ua6fJV1Yx5MGXhfybT",url:"https://open.spotify.com/track/0Pi3Ua6fJV1Yx5MGXhfybT",title:"Call You Mine (Acoustic Piano)",length:209554,explicit:!1},{id:"3ehaORXQ7WPWY62TU9tJct",url:"https://open.spotify.com/track/3ehaORXQ7WPWY62TU9tJct",title:"Cody's Theme",length:123576,explicit:!1},{id:"0Z2Q9i0qg8zKtK1rL5tFSu",url:"https://open.spotify.com/track/0Z2Q9i0qg8zKtK1rL5tFSu",title:"Blazing Highway Home",length:298760,explicit:!1},{id:"6nkiE9nZdyxQ6KtEb1uJq8",url:"https://open.spotify.com/track/6nkiE9nZdyxQ6KtEb1uJq8",title:"Details",length:229224,explicit:!1},{id:"7Jfj7U9W5Ws3k1Xh34RZ6W",url:"https://open.spotify.com/track/7Jfj7U9W5Ws3k1Xh34RZ6W",title:"Robin Williams",length:181573,explicit:!1},{id:"1WGMajtK2qQXuzGmAlRSTH",url:"https://open.spotify.com/track/1WGMajtK2qQXuzGmAlRSTH",title:"Nel Blu Dipinto Di Blu",length:227238,explicit:!1},{id:"6i6Wi5CAYZUFiQr4dP2QPm",url:"https://open.spotify.com/track/6i6Wi5CAYZUFiQr4dP2QPm",title:"To the Dogs or Whoever",length:182946,explicit:!1},{id:"6PbCEdjkgbUTDwyrJNn3Dm",url:"https://open.spotify.com/track/6PbCEdjkgbUTDwyrJNn3Dm",title:"The World Keeps Turnin'",length:189026,explicit:!1},{id:"1uejMUEJpPMmTA640NJXcu",url:"https://open.spotify.com/track/1uejMUEJpPMmTA640NJXcu",title:"Pilgrim",length:235992,explicit:!1},{id:"7C87cnbE6D7NiW0HHJlKn1",url:"https://open.spotify.com/track/7C87cnbE6D7NiW0HHJlKn1",title:"Lavender",length:265760,explicit:!1},{id:"5TJ025YL3gsi9c375RVmZy",url:"https://open.spotify.com/track/5TJ025YL3gsi9c375RVmZy",title:"Killing Me",length:261320,explicit:!1},{id:"6ogPBjEg8SeRrPQXpGQZvf",url:"https://open.spotify.com/track/6ogPBjEg8SeRrPQXpGQZvf",title:"Life Keeps Moving On",length:196559,explicit:!1},{id:"4hbGPfz03P8Nnh75mFIAoH",url:"https://open.spotify.com/track/4hbGPfz03P8Nnh75mFIAoH",title:"Lucky - Spotify Session",length:391404,explicit:!1}],j=function(t){Object(s.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t))._isMounted=!1,i.setPlaylistId=function(t){i.setState({playlistId:t})},i.setPlaylist=function(t){i.setState({playlist:t})},i.addSongs=function(t){i.setState({songs:[].concat(Object(k.a)(i.state.songs),[t])}),console.log(i.state.songs)},i.mounter=function(t){var e=t.playlists.find((function(t){return t.id===i.props.match.params.playlistId}));console.log(e),i.setPlaylist(e)},i.state={playlistId:i.props.match.params.playlistId,playlist:null,songs:[],isFlushed:!1},console.log(i.state.songs),i}return Object(c.a)(n,[{key:"componentDidMount",value:function(){var t=this;this._isMounted=!0;var e=this.props.match.params.playlistId;console.log(e);var n=T.find((function(e){return console.log(e),e.id==t.props.match.params.playlistId}));this.setPlaylist(n);for(var i=0,a=0;i<n.length;){var l={id:O[a].id,url:O[a].url,name:O[a].name,length:O[a].length,explicit:O[a].explicit};a++,i+=l.length,this.addSongs(l)}}},{key:"componentWillReceiveProps",value:function(t){}},{key:"render",value:function(){return null===this.state.playlist?a.a.createElement("h1",null,"Loading.."):a.a.createElement(C,{playlist:this.state.playlist,songs:this.state.songs})}}]),n}(i.Component);function A(t){return console.log(t),a.a.createElement("div",{className:"list-item"},a.a.createElement(u.b,{to:"/playlist-display/".concat(t.id),className:"title"},a.a.createElement("h2",null,t.name)),a.a.createElement("span",null,t.genre.name))}n(44);var N=function(t){Object(s.a)(n,t);var e=Object(p.a)(n);function n(t){var i;return Object(o.a)(this,n),(i=e.call(this,t)).lister=function(t){return t.playlists.map((function(e){if(e){var n=t.genres.find((function(t){return t.id===e.genre_id}));return a.a.createElement(A,{key:e.id,id:e.id,name:e.name,genre:n,length:e.length})}return null}))},i.state={id:t.id,name:t.name},i}return Object(c.a)(n,[{key:"render",value:function(){var t=this;return a.a.createElement(f.Consumer,null,(function(e){var n=t.lister(e);return a.a.createElement("div",{id:"main"},n,a.a.createElement("div",{className:"add"},a.a.createElement(u.b,{to:"/add-note"},a.a.createElement("h2",{className:"addFolder"},"Add note"))))}))}}]),n}(i.Component),P=[{id:1,name:"Acoustic"}],D=function(t){Object(s.a)(n,t);var e=Object(p.a)(n);function n(){var t;Object(o.a)(this,n);for(var i=arguments.length,a=new Array(i),l=0;l<i;l++)a[l]=arguments[l];return(t=e.call.apply(e,[this].concat(a))).state={genres:[],playlists:[],user:null,error:null},t.setGenres=function(e){t.setState({genres:e})},t.setPlaylists=function(e){t.setState({playlists:e})},t.fetcher=function(){},t}return Object(c.a)(n,[{key:"componentDidMount",value:function(){}},{key:"render",value:function(){var t={genres:P,playlists:T,pageUpdate:this.fetcher};return a.a.createElement("div",{className:"App"},a.a.createElement("header",{className:"App-header"},a.a.createElement(u.b,{to:"/",id:"home-link"},a.a.createElement("h1",null,"ShowTunes")),a.a.createElement("hr",null)),a.a.createElement(f.Provider,{value:t},a.a.createElement("main",{id:"stage"},a.a.createElement(m.c,null,a.a.createElement(m.a,{exact:!0,path:"/",component:g}),a.a.createElement(m.a,{path:"/homepage",component:E}),a.a.createElement(m.a,{path:"/existing-playlists",component:N}),a.a.createElement(m.a,{path:"/playlist-display/:playlistId",component:j})))))}}]),n}(i.Component);r.a.render(a.a.createElement(u.a,null,a.a.createElement(D,null)),document.getElementById("root"))}},[[24,1,2]]]);
//# sourceMappingURL=main.3c15aa01.chunk.js.map